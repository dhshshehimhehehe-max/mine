-- Developer Testing GUI
-- Safe version for your own Roblox game

-- Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Player check (only game owner/devs can see GUI)
local player = Players.LocalPlayer
if player.UserId ~= game.CreatorId then
	return -- donâ€™t show GUI to regular players
end

-- Create GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "DeveloperTestingGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Tabs container
local tabsFrame = Instance.new("Frame")
tabsFrame.Size = UDim2.new(0, 220, 0, 300)
tabsFrame.Position = UDim2.new(0, 25, 0.3, 0)
tabsFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
tabsFrame.BorderSizePixel = 0
tabsFrame.Parent = screenGui

local uiCorner = Instance.new("UICorner", tabsFrame)
uiCorner.CornerRadius = UDim.new(0, 10)

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.Text = "Developer GUI"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.Parent = tabsFrame

local scrolling = Instance.new("ScrollingFrame")
scrolling.Size = UDim2.new(1, 0, 1, -40)
scrolling.Position = UDim2.new(0, 0, 0, 40)
scrolling.BackgroundTransparency = 1
scrolling.CanvasSize = UDim2.new(0, 0, 0, 600)
scrolling.ScrollBarThickness = 6
scrolling.Parent = tabsFrame

local layout = Instance.new("UIListLayout", scrolling)
layout.Padding = UDim.new(0, 6)

-- Helper to create a button
local function makeButton(text, color)
	local b = Instance.new("TextButton")
	b.Size = UDim2.new(1, -10, 0, 35)
	b.BackgroundColor3 = color
	b.Text = text
	b.TextColor3 = Color3.new(1, 1, 1)
	b.Font = Enum.Font.GothamSemibold
	b.TextSize = 16
	b.AutoButtonColor = true
	local corner = Instance.new("UICorner", b)
	corner.CornerRadius = UDim.new(0, 6)
	b.Parent = scrolling
	return b
end

------------------------------------------------
-- ðŸª“ MINING TOOLS TAB
------------------------------------------------
local miningLabel = Instance.new("TextLabel")
miningLabel.Text = "ðŸª“ Mining Tools"
miningLabel.Size = UDim2.new(1, 0, 0, 25)
miningLabel.BackgroundTransparency = 1
miningLabel.TextColor3 = Color3.fromRGB(255, 255, 180)
miningLabel.Font = Enum.Font.GothamBold
miningLabel.TextSize = 18
miningLabel.Parent = scrolling

local btnPerfectHit = makeButton("Trigger Perfect Hit", Color3.fromRGB(85, 170, 255))
btnPerfectHit.MouseButton1Click:Connect(function()
	local char = player.Character
	if not char then return end
	local tool = char:FindFirstChild("Steady Pickaxe")
	if not tool then
		warn("Pickaxe not found.")
		return
	end

	-- simulate minigame start (dev only)
	local fakeOre = Instance.new("Part")
	fakeOre.Name = "DebugOre"
	fakeOre.Anchored = true
	fakeOre.Size = Vector3.new(2,2,2)
	fakeOre.CFrame = char:GetPivot() * CFrame.new(0, 0, -5)
	fakeOre.Parent = workspace
	task.delay(3, function() fakeOre:Destroy() end)

	local pickaxeEvent = tool:FindFirstChild("minigameStart")
	if pickaxeEvent then
		pickaxeEvent:FireServer(fakeOre)
	end

	local perfect = tool:FindFirstChild("pickaxeMine")
	if perfect then
		task.wait(0.5)
		perfect:InvokeServer(fakeOre, 0, Enum.NormalId.Front)
	end
end)

------------------------------------------------
-- ðŸŒ  EVENTS TAB
------------------------------------------------
local eventsLabel = Instance.new("TextLabel")
eventsLabel.Text = "ðŸŒ  Global Events"
eventsLabel.Size = UDim2.new(1, 0, 0, 25)
eventsLabel.BackgroundTransparency = 1
eventsLabel.TextColor3 = Color3.fromRGB(180, 255, 180)
eventsLabel.Font = Enum.Font.GothamBold
eventsLabel.TextSize = 18
eventsLabel.Parent = scrolling

local btnMeteor = makeButton("Trigger Meteor Shower", Color3.fromRGB(255, 100, 100))
btnMeteor.MouseButton1Click:Connect(function()
	local ev = ReplicatedStorage:FindFirstChild("Events")
	if ev and ev:FindFirstChild("MeteorShower") then
		ev.MeteorShower:Fire()
	end
end)

local btnBirthday = makeButton("Trigger Birthday Claim", Color3.fromRGB(255, 200, 100))
btnBirthday.MouseButton1Click:Connect(function()
	local ev = ReplicatedStorage:FindFirstChild("Events")
	if ev and ev:FindFirstChild("BirthdayClaim") then
		ev.BirthdayClaim:Fire()
	end
end)

------------------------------------------------
-- ðŸ§° DEV UTILITIES TAB
------------------------------------------------
local devLabel = Instance.new("TextLabel")
devLabel.Text = "ðŸ§° Developer Tools"
devLabel.Size = UDim2.new(1, 0, 0, 25)
devLabel.BackgroundTransparency = 1
devLabel.TextColor3 = Color3.fromRGB(200, 200, 255)
devLabel.Font = Enum.Font.GothamBold
devLabel.TextSize = 18
devLabel.Parent = scrolling

local btnReload = makeButton("Reload Character", Color3.fromRGB(120, 120, 255))
btnReload.MouseButton1Click:Connect(function()
	player:LoadCharacter()
end)

local btnResetCam = makeButton("Reset Camera", Color3.fromRGB(180, 120, 255))
btnResetCam.MouseButton1Click:Connect(function()
	workspace.CurrentCamera.CameraSubject = player.Character:WaitForChild("Humanoid")
end)
